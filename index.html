<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nepo Baby Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Mobile Score Badge -->
    <div class="mobile-score-badge" id="mobile-score-badge">
        <div class="mobile-score-value" id="mobile-score-value">0%</div>
        <div class="mobile-score-label">Score</div>
    </div>

    <!-- Floating particles -->
    <script>
        for(let i = 0; i < 30; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (15 + Math.random() * 10) + 's';
            document.body.appendChild(particle);
        }
    </script>

    <div class="container">
        <div class="quiz-wrapper">
            <div id="quiz-container">
            <h1>Nepo Baby Calculator</h1>

            <div id="quiz-start" class="quiz-section active">
                <h2>How much of a Nepo Baby are you?</h2>
                <p>Answer honestly to find out how much privilege and family connections have shaped your journey.</p>
                <button id="start-btn" class="btn">Take the Test</button>
            </div>

            <div id="quiz-questions" class="quiz-section">
                <div id="question-container">
                    <h2 id="question-text"></h2>
                    <div id="answer-buttons" class="answer-grid"></div>
                </div>

                <div class="quiz-controls">
                    <div id="question-counter"></div>
                    <button id="next-btn" class="btn">Next Question</button>
                </div>
            </div>

            <div id="quiz-results" class="quiz-section">
                <h2>Your Results</h2>
                <div id="score-container">
                    <div id="score"></div>
                </div>
                <button id="restart-btn" class="btn">Retake Test</button>
            </div>
        </div>
        
        <!-- Thermostat Meter -->
        <div class="thermostat-container" id="thermostat-container">
            <div class="thermostat">
                <div class="thermostat-markers">
                    <span class="marker">100%</span>
                    <span class="marker">75%</span>
                    <span class="marker">50%</span>
                    <span class="marker">25%</span>
                    <span class="marker">0%</span>
                </div>
                <div class="thermostat-tube">
                    <div class="thermostat-fill" id="thermostat-fill"></div>
                </div>
                <div class="thermostat-bulb"></div>
            </div>
            <div class="thermostat-label">
                <div class="thermostat-score" id="thermostat-score">0%</div>
                <div>Nepo Score</div>
            </div>
        </div>
    </div>
</div>

    <script>
        const quizData = [
            // SECTION 1: Early Life & Foundation
            {
                question: "Did your neighborhood have well-funded schools, low pollution, and access to healthy food?",
                answers: [
                    "No to all",
                    "Mixed",
                    "Mostly yes",
                    "Yes to everything"
                ],
                weights: [0, 2, 5, 7]
            },
            {
                question: "What best describes your family's financial situation growing up?",
                answers: [
                    "Struggled to make ends meet",
                    "Comfortable, but careful with money",
                    "Well-off, never worried about money",
                    "Wealthy, had household staff or multiple properties"
                ],
                weights: [0, 2, 5, 7]
            },
            {
                question: "What is your parents' highest level of education?",
                answers: [
                    "High school or less",
                    "Some college or associate degree",
                    "Bachelor's degree",
                    "Advanced degree (Master's, PhD, JD, MD)"
                ],
                weights: [0, 2, 5, 7]
            },
            
            // SECTION 2: Education Journey
            {
                question: "What kind of high school did you attend?",
                answers: [
                    "Public school in an underfunded district",
                    "Good public school",
                    "Private school or magnet school",
                    "Elite private school (think $40k+ per year)"
                ],
                weights: [0, 2, 5, 7]
            },
            {
                question: "How did you pay for college?",
                answers: [
                    "Full scholarships, grants, or worked my way through",
                    "Mix of loans, work, and some family support",
                    "Parents paid for most or all of it",
                    "Trust fund or parents paid in full, plus living expenses"
                ],
                weights: [0, 2, 5, 7]
            },
            
            // SECTION 3: College Experience
            {
                question: "Did you have unpaid internships during college?",
                answers: [
                    "No, I had to work paid jobs",
                    "One unpaid internship",
                    "Multiple unpaid internships",
                    "Multiple unpaid internships in expensive cities (parents paid rent)"
                ],
                weights: [0, 3, 5, 7]
            },
            {
                question: "Did you take a 'gap year' or travel extensively?",
                answers: [
                    "No, I had to work immediately",
                    "Brief vacation after graduation",
                    "A few months of travel funded by family",
                    "Year+ of travel, 'finding myself' on family's dime"
                ],
                weights: [0, 1, 4, 7]
            },
            
            // SECTION 4: Career Launch
            {
                question: "What was your living situation right after college?",
                answers: [
                    "Roommates in a small apartment I paid for",
                    "Lived at home briefly to save money",
                    "Parents helped with rent in the city",
                    "Lived rent-free in family-owned property"
                ],
                weights: [0, 2, 4, 7]
            },
            {
                question: "How did you get your first job or internship?",
                answers: [
                    "Applied online with no connections",
                    "Through a school career fair",
                    "Family friend made an introduction",
                    "Parent works at the company or in the industry"
                ],
                weights: [0, 1, 5, 7]
            },
            {
                question: "Have your family connections helped your career?",
                answers: [
                    "No connections in my field",
                    "Some distant connections, rarely helpful",
                    "Parents know people in my industry",
                    "Parents are major players in my industry"
                ],
                weights: [0, 1, 5, 7]
            },
            {
                question: "How would you describe your professional network?",
                answers: [
                    "Built entirely by myself from scratch",
                    "Mix of my connections and some family friends",
                    "Significantly boosted by family connections",
                    "Inherited a powerful network from family"
                ],
                weights: [0, 2, 5, 7]
            },
            
            // SECTION 5: Identity & Cultural Factors
            {
                question: "How often did you have to 'code-switch' or modify your behavior/speech for professional settings?",
                answers: [
                    "Constantly, major effort",
                    "Regularly",
                    "Occasionally",
                    "Never thought about it"
                ],
                weights: [0, 2, 5, 7]
            },
            {
                question: "Has your name ever been a barrier? (callbacks, pronunciation, 'professionalism')",
                answers: [
                    "Significant barrier",
                    "Moderate issue",
                    "Minor",
                    "Never an issue"
                ],
                weights: [0, 2, 5, 7]
            },
            {
                question: "How often are you seen as an individual vs. representative of your entire race/ethnicity?",
                answers: [
                    "Always representing",
                    "Often",
                    "Sometimes",
                    "I'm always seen as an individual"
                ],
                weights: [0, 2, 5, 7]
            },
            {
                question: "In professional spaces, is your cultural background seen as 'sophisticated' or 'ethnic/exotic'?",
                answers: [
                    "Exoticized/othered",
                    "Depends",
                    "Neutral",
                    "Seen as cultured/sophisticated"
                ],
                weights: [0, 2, 5, 7]
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;
        let questionScores = []; // Track score for each question
        const maxScore = 105; // 15 questions * 7 points max

        const startSection = document.getElementById('quiz-start');
        const questionsSection = document.getElementById('quiz-questions');
        const resultsSection = document.getElementById('quiz-results');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionText = document.getElementById('question-text');
        const answerButtons = document.getElementById('answer-buttons');
        const questionCounter = document.getElementById('question-counter');
        const scoreDisplay = document.getElementById('score');
        const thermometerContainer = document.getElementById('thermostat-container');
        const thermometerFill = document.getElementById('thermostat-fill');
        const thermometerScore = document.getElementById('thermostat-score');
        const mobileBadge = document.getElementById('mobile-score-badge');
        const mobileScoreValue = document.getElementById('mobile-score-value');

        function updateThermometer() {
            const percentage = Math.round((score / maxScore) * 100);
            thermometerFill.style.height = percentage + '%';
            thermometerScore.textContent = percentage + '%';
            mobileScoreValue.textContent = percentage + '%';
            
            // Update mobile badge color based on score (smooth gradient)
            let badgeColor, textColor;
            if (percentage <= 50) {
                // Silver to Light Gold (0-50%)
                const ratio = percentage / 50;
                badgeColor = interpolateColor('#d1d5db', '#fde047', ratio);
                textColor = interpolateColor('#e5e7eb', '#fde047', ratio);
            } else if (percentage <= 75) {
                // Light Gold to Rich Gold (50-75%)
                const ratio = (percentage - 50) / 25;
                badgeColor = interpolateColor('#fde047', '#f59e0b', ratio);
                textColor = interpolateColor('#fde047', '#f59e0b', ratio);
            } else {
                // Rich Gold to Deep Gold (75-100%)
                const ratio = (percentage - 75) / 25;
                badgeColor = interpolateColor('#f59e0b', '#d4af37', ratio);
                textColor = interpolateColor('#f59e0b', '#d4af37', ratio);
            }
            
            mobileBadge.style.borderColor = badgeColor;
            mobileBadge.style.boxShadow = `0 10px 30px ${badgeColor}40`;
            mobileScoreValue.style.color = textColor;
        }
        
        // Helper function to interpolate between two hex colors
        function interpolateColor(color1, color2, ratio) {
            const hex = (x) => {
                const h = x.toString(16);
                return h.length === 1 ? '0' + h : h;
            };
            
            const r1 = parseInt(color1.substring(1, 3), 16);
            const g1 = parseInt(color1.substring(3, 5), 16);
            const b1 = parseInt(color1.substring(5, 7), 16);
            
            const r2 = parseInt(color2.substring(1, 3), 16);
            const g2 = parseInt(color2.substring(3, 5), 16);
            const b2 = parseInt(color2.substring(5, 7), 16);
            
            const r = Math.round(r1 + (r2 - r1) * ratio);
            const g = Math.round(g1 + (g2 - g1) * ratio);
            const b = Math.round(b1 + (b2 - b1) * ratio);
            
            return '#' + hex(r) + hex(g) + hex(b);
        }

        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartQuiz);

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            questionScores = []; // Reset question scores

            startSection.classList.remove('active');
            questionsSection.classList.add('active');
            thermometerContainer.classList.add('active');
            mobileBadge.classList.add('active');
            
            updateThermometer();
            showQuestion();
        }

        function showQuestion() {
            const currentQuestion = quizData[currentQuestionIndex];

            questionText.textContent = currentQuestion.question;
            questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${quizData.length}`;

            answerButtons.innerHTML = '';

            currentQuestion.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.textContent = answer;
                button.classList.add('answer-btn');
                button.addEventListener('click', () => selectAnswer(index, button));
                answerButtons.appendChild(button);
            });

            nextBtn.disabled = true;
            selectedAnswer = null;
        }

        function selectAnswer(answerIndex, buttonElement) {
            const currentQuestion = quizData[currentQuestionIndex];
            const allButtons = answerButtons.querySelectorAll('.answer-btn');

            allButtons.forEach(btn => btn.classList.remove('selected'));

            // If this question was already answered, subtract the old score
            if (questionScores[currentQuestionIndex] !== undefined) {
                score -= questionScores[currentQuestionIndex];
            }

            // Store the new score for this question
            questionScores[currentQuestionIndex] = currentQuestion.weights[answerIndex];
            
            // Add the new score
            score += questionScores[currentQuestionIndex];
            selectedAnswer = answerIndex;
            buttonElement.classList.add('selected');

            updateThermometer();

            nextBtn.disabled = false;
        }

        function nextQuestion() {
            currentQuestionIndex++;

            if (currentQuestionIndex < quizData.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            questionsSection.classList.remove('active');
            resultsSection.classList.add('active');
            thermometerContainer.classList.remove('active');
            mobileBadge.classList.remove('active');

            const percentage = Math.round((score / maxScore) * 100);

            let ranking = '';
            let message = '';

            if (percentage >= 80) {
                ranking = 'Supreme Nepo Baby';
                message = 'Born with a platinum spoon. Your family connections are basically a cheat code for life.';
            } else if (percentage >= 60) {
                ranking = 'Certified Nepo Baby';
                message = 'You had significant advantages. The doors were already unlocked for you.';
            } else if (percentage >= 40) {
                ranking = 'Nepo-Adjacent';
                message = 'You had some privileges and connections that gave you a boost.';
            } else if (percentage >= 20) {
                ranking = 'Mostly Self-Made';
                message = 'You worked for most of what you got, with some family support along the way.';
            } else {
                ranking = 'Self-Made';
                message = 'You built everything from scratch. Respect.';
            }

            scoreDisplay.innerHTML = `
                <div class="score-percentage">${percentage}%</div>
                <div class="score-ranking">${ranking}</div>
                <div class="score-message">${message}</div>
            `;
        }

        function restartQuiz() {
            resultsSection.classList.remove('active');
            startSection.classList.add('active');
            thermometerContainer.classList.remove('active');
            mobileBadge.classList.remove('active');

            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            questionScores = []; // Reset question scores
            updateThermometer();
        }
    </script>
</body>
</html>
